<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>Ping â€” Chat Better</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600&family=Syne:wght@700;800&display=swap" rel="stylesheet" />
</head>
<body>

<!-- â”€â”€â”€â”€â”€ LOADING SPLASH â”€â”€â”€â”€â”€ -->
<div id="screen-loading" class="screen active">
  <div class="loading-content">
    <span class="brand-icon-lg">âš¡</span>
    <div class="loader-bar"><div class="loader-fill"></div></div>
  </div>
</div>

<!-- â”€â”€â”€â”€â”€ LOGIN SCREEN â”€â”€â”€â”€â”€ -->
<div id="screen-login" class="screen">
  <div class="login-bg">
    <div class="orb orb1"></div>
    <div class="orb orb2"></div>
    <div class="orb orb3"></div>
  </div>
  <div class="login-card glass">
    <div class="brand">
      <span class="brand-icon">âš¡</span>
      <h1 class="brand-name">Ping</h1>
      <p class="brand-tagline">Chat. Better. Always.</p>
    </div>
    <button id="btn-google-login" class="btn-google">
      <svg width="20" height="20" viewBox="0 0 48 48">
        <path fill="#EA4335" d="M24 9.5c3.5 0 6.6 1.2 9.1 3.2l6.8-6.8C35.7 2.5 30.2 0 24 0 14.7 0 6.7 5.5 2.8 13.5l7.9 6.1C12.6 13.4 17.9 9.5 24 9.5z"/>
        <path fill="#4285F4" d="M46.5 24.5c0-1.6-.1-3.1-.4-4.5H24v8.5h12.7c-.6 3-2.3 5.5-4.8 7.2l7.5 5.8c4.4-4.1 7.1-10.1 7.1-17z"/>
        <path fill="#FBBC05" d="M10.7 28.4A14.9 14.9 0 0 1 9.5 24c0-1.5.3-3 .7-4.4L2.3 13.5A23.9 23.9 0 0 0 0 24c0 3.8.9 7.4 2.4 10.6l8.3-6.2z"/>
        <path fill="#34A853" d="M24 48c6.2 0 11.4-2 15.2-5.5l-7.5-5.8c-2 1.4-4.7 2.3-7.7 2.3-6.1 0-11.3-4-13.2-9.6l-8.1 6.3C6.6 42.5 14.7 48 24 48z"/>
      </svg>
      Continue with Google
    </button>
    <p class="login-error" id="login-error"></p>
  </div>
</div>

<!-- â”€â”€â”€â”€â”€ PROFILE SETUP SCREEN â”€â”€â”€â”€â”€ -->
<div id="screen-profile" class="screen">
  <div class="login-bg">
    <div class="orb orb1"></div>
    <div class="orb orb2"></div>
  </div>
  <div class="setup-wrap glass">
    <h2>Set up your profile</h2>
    <p class="sub">How friends will see you</p>
    <div class="avatar-picker">
      <img id="avatar-preview" src="https://api.dicebear.com/8.x/lorelei/svg?seed=default" alt="avatar" />
      <label class="avatar-edit-btn" for="avatar-upload">âœï¸</label>
      <input type="file" id="avatar-upload" accept="image/*" hidden />
    </div>
    <input id="input-displayname" class="input-field" type="text" placeholder="Display name" maxlength="30" />
    <button id="btn-save-profile" class="btn-primary">Save &amp; Continue â†’</button>
    <p id="profile-error" class="login-error"></p>
  </div>
</div>

<!-- â”€â”€â”€â”€â”€ MAIN APP SCREEN â”€â”€â”€â”€â”€ -->
<div id="screen-app" class="screen">
  <aside class="sidebar">
    <div class="sidebar-header">
      <div class="my-avatar-wrap">
        <img id="my-avatar" src="" alt="me" />
        <span class="online-dot"></span>
      </div>
      <span id="my-name" class="my-name"></span>
      <button id="btn-signout" class="icon-btn" title="Sign out">â»</button>
    </div>

    <div class="sidebar-tabs">
      <button class="tab-btn active" data-tab="chats">ğŸ’¬ Chats</button>
      <button class="tab-btn" data-tab="friends">ğŸ‘¥ Friends</button>
    </div>

    <div id="tab-chats" class="tab-panel active">
      <div id="chats-list" class="list-container"></div>
    </div>

    <div id="tab-friends" class="tab-panel">
      <div class="add-friend-row">
        <input id="input-friend-search" class="input-field small" type="text" placeholder="Search by display nameâ€¦" />
        <button id="btn-add-friend" class="btn-icon-round" title="Send request">+</button>
      </div>
      <div id="friends-requests-label" class="section-label" style="display:none">ğŸ“© Requests</div>
      <div id="requests-list" class="list-container" style="display:none"></div>
      <div class="section-label">Friends</div>
      <div id="friends-list" class="list-container"></div>
    </div>
  </aside>

  <main class="chat-panel">
    <div id="chat-empty" class="chat-empty">
      <div class="empty-inner">
        <span class="empty-icon">âš¡</span>
        <h3>Welcome to Ping</h3>
        <p>Pick a chat or add a friend to begin</p>
      </div>
    </div>

    <div id="chat-active" class="chat-active hidden">
      <header class="chat-header">
        <img id="chat-peer-avatar" src="" alt="" />
        <div class="chat-peer-info">
          <span id="chat-peer-name"></span>
          <span id="chat-peer-status" class="peer-status"></span>
        </div>
        <div class="chat-header-actions">
          <button id="btn-voice-call" class="hdr-btn" title="Voice call">ğŸ™ï¸</button>
          <button id="btn-video-call" class="hdr-btn" title="Video call">ğŸ“¹</button>
        </div>
      </header>

      <div id="messages-container" class="messages-container"></div>

      <div id="emoji-picker" class="emoji-picker glass hidden">
        <div id="emoji-grid" class="emoji-grid"></div>
      </div>

      <footer class="chat-footer">
        <label class="attach-btn" for="img-upload" title="Send image">ğŸ“</label>
        <input type="file" id="img-upload" accept="image/*" hidden />
        <input id="msg-input" class="msg-input" type="text" placeholder="Messageâ€¦" autocomplete="off" />
        <button id="emoji-btn" class="icon-btn" title="Emoji">ğŸ˜Š</button>
        <button id="send-btn" class="btn-send">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
            <line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/>
          </svg>
        </button>
      </footer>
    </div>
  </main>
</div>

<!-- â”€â”€â”€â”€â”€ CALL OVERLAY â”€â”€â”€â”€â”€ -->
<div id="call-overlay" class="call-overlay hidden">
  <div class="call-blur-bg"></div>
  <div class="call-card glass">
    <div class="call-peer-info">
      <img id="call-peer-avatar" src="" alt="" />
      <h3 id="call-peer-name"></h3>
      <p id="call-status-text" class="call-status-text">Callingâ€¦</p>
    </div>
    <div id="video-area" class="video-area hidden">
      <video id="remote-video" class="remote-video" autoplay playsinline></video>
      <video id="local-video"  class="local-video"  autoplay playsinline muted></video>
    </div>
    <div id="call-timer" class="call-timer hidden">00:00</div>
    <div class="call-controls">
      <button id="btn-mute"       class="call-ctrl-btn mute-btn"  title="Mute">ğŸ™ï¸</button>
      <button id="btn-cam-toggle" class="call-ctrl-btn cam-btn hidden" title="Camera">ğŸ“·</button>
      <button id="btn-end-call"   class="call-ctrl-btn end-btn"   title="End">ğŸ“µ</button>
    </div>
    <div id="incoming-actions" class="incoming-actions hidden">
      <button id="btn-accept-call"  class="call-ctrl-btn accept-btn">âœ… Accept</button>
      <button id="btn-decline-call" class="call-ctrl-btn decline-btn">âŒ Decline</button>
    </div>
  </div>
</div>

<div id="toast" class="toast"></div>

<script type="module" src="app.js"></script>
</body>
</html>
